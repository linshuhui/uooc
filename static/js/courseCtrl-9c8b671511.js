app.controller("course",["$scope","courseService","uoocService","$compile",function(e,o,r,t){r.advert({code:"uc_center_course",target:"#ad",area:["100%","120px"],random:!0,withBackground:!0,style:{"boder-bottom":"10px solid #efefef"}}),e.getCourse=function(r,t){e.showGrade=!1;var n=e.type;r=r||1,e.current_page=r;var a={page:r,type:n};t=t!==!1,o.studentCourseList(a).then(function(o){a=o.data||{};var n=a.page?a.page.pages:0;e.showGetMoreBtn=n>r,t?e.courseData=a.data||[]:(e.courseData=e.courseData||[],angular.forEach(a.data,function(o){e.courseData.push(o)}))})},e.showGrade=!1,e.viewGrade=function(r){o.courseGrade({cid:r}).then(function(o){e.showGrade=!0,e.gradeInfo=o.data,e.gradeFirst=e.gradeInfo.list?e.gradeInfo.list:[]})},e.backCourse=function(){e.showGrade=!1},e.getCourseMore=function(){e.current_page++,e.getCourse(e.current_page,!1)},e.layerCLose=function(){layer.closeAll()}}]),app.controller("course.learn",["$scope",function(e){e.$parent.type="learn",e.getCourse()}]),app.controller("course.nostart",["$scope",function(e){e.$parent.type="nostart",e.getCourse()}]),app.controller("course.finish",["$scope",function(e){e.$parent.type="finish",e.getCourse()}]),app.controller("course.follow",["$scope","courseService",function(e,o){e.$parent.type="follow",e.getCourse(),e.cancelFollow=function(e){var r=e.id;layer.confirm("您确定取消关注【"+e.name+"】吗?",{icon:3,moveType:1,offset:"250px",btn:["确定","取消"]},function(e){o.follow({course_id:r}).then(function(){$("#follow_"+r).slideUp(600,function(){$(this).remove()}),layer.close(e)})})}}]);